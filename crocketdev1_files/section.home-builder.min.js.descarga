theme.HomeBuilder=function(){function e(e){this.$container=$(e),this.namespace=".home-builder",this.onLoad()}return e.prototype=$.extend({},Section.prototype,e.prototype,{onLoad:function(){var e=this,t=this.$container.find(".rev_slider"),i=this.$container.find(".slider"),n=this.$container.find("#instafeed"),a=this.$container.find(".promobox"),o=$(".product-featured");theme.is_loaded?this.inirRevolution(t):$window.on("load",function(){e.inirRevolution(t)}),this.initSlick(i),this.initInstafeed(n),theme.Parallax&&a.length&&theme.Parallax.init(e.$container.find(".js-parallax")),(a.length||o.length)&&theme.is_loaded&&theme.ImagesLazyLoad.update(),o.length&&theme.is_loaded&&(theme.ProductReview.update(),theme.Tooltip&&theme.Tooltip.init())},initSlick:function(e){var t=this;e.each(function(){var e=$(this),i=e.find("[data-js-slider-slick]"),n=e.find("[data-js-slider-prev]"),a=e.find("[data-js-slider-next]"),o=1e3*+i.attr("data-speed"),l="true"===i.attr("data-arrows"),s="true"===i.attr("data-bullets");t.$slick=i,i.on("init",function(){i.removeClass("invisible"),theme.Loader.unset(i.parent())}),i.slick({lazyLoad:!1,arrows:l,prevArrow:n,nextArrow:a,dots:s,dotsClass:"slick-dots d-none d-lg-flex flex-wrap flex-center position-absolute list-unstyled mt-35",adaptiveHeight:!0,autoplay:!0,autoplaySpeed:o,fade:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,rtl:theme.rtl})})},inirRevolution:function(e){var t=this;e.each(function(){var e=$(this),i=e.data("gridwidth").split(","),n=e.data("gridheight").split(","),a=e.data("minheight"),o=e.show().revolution({sliderLayout:"auto",responsiveLevels:[1259,1024,777,540],gridwidth:[+i[0],+i[1],+i[2],+i[3]],gridheight:[+n[0],+n[1],+n[2],+n[3]],minHeight:void 0!==a&&a,visibilityLevels:[1259,1024,777,540],delay:1e3*e.data("delay"),disableProgressBar:"on",lazyType:"single",spinner:"none",navigation:{arrows:{enable:e.data("arrows"),style:"uranus",hide_onleave:!1},bullets:{enable:e.data("bullets"),h_align:"center",v_align:"bottom",h_offset:0,v_offset:74,space:24,hide_onleave:!1,tmp:""},touch:{touchenabled:"on"}},parallax:{type:"mouse",origo:"slidercenter",speed:400,levels:[2,4,6,8,10,12,14,16,18,20,25,30,35,40,45,50],disable_onmobile:"on"}});t.$container.one("section.unload",function(){o.revkill()})})},initInstafeed:function(e){if(e.length){var t=$(e.find("template")[0].content).children().html(),i=new Instafeed({get:"user",sortBy:"most-liked",resolution:"standard_resolution",userId:e.data("userid"),clientId:e.data("clientid"),accessToken:e.data("accesstoken"),limit:e.data("limit"),template:t.replace(/{\\{/g,"{{").replace(/post-link/g,"{{link}}").replace(/post-image/g,"{{image}}"),after:function(){theme.ImagesLazyLoad.update()}});e.html("").removeClass("d-none"),i.run()}},onUnload:function(){this.$container.off(this.namespace),this.$container.trigger("section.unload"),this.$slick&&(this.$slick.slick("destroy").off(),$window.unbind("load.slickResize"),this.$slick=null),theme.Tooltip&&theme.Tooltip.destroy(),theme.Parallax&&theme.Parallax.destroy(this.$container.find(".js-parallax"))}}),e}(),$(function(){theme.sections.register("home-builder",theme.HomeBuilder)});